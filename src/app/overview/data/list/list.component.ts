import { Component, OnInit, Output, EventEmitter, OnDestroy } from '@angular/core';
import { Subscription, Observable } from 'rxjs';
import { map } from 'rxjs/operators';
import { DatabaseService } from 'src/app/services/database.service'; 

@Component({
  selector: 'app-list',
  templateUrl: './list.component.html',
  styleUrls: ['./list.component.css']
})
export class ListComponent implements OnInit {

  @Output() id = new EventEmitter();
  lastKey: any;
  filteredData = '';
  @Output() count1 = new EventEmitter<number>();
  @Output() count2 = new EventEmitter<number>();
  @Output() count3 = new EventEmitter<number>();
  @Output() count4 = new EventEmitter<number>();
  private _dataSubscription?: Subscription;
  data= [
    {
      "Email_Address": "Eric.watkins@phila.gov",
      "First_Name": "Eric",
      "Last_Name": "Watkins",
      "Company": "",
      "Title": "",
      "Business Address": "",
      "Business Number": "",
      "Mobile Number": "",
      "Other Phone Number": "",
      "Home Address": "",
      "MEMBER_RATING": "1",
      "OPTIN_TIME": "4/3/23 15:07",
      "OPTIN_IP": "",
      "CONFIRM_TIME": "4/3/23 15:07",
      "CONFIRM_IP": "",
      "LATITUDE": "",
      "LONGITUDE": "",
      "GMTOFF": "",
      "DSTOFF": "",
      "TIMEZONE": "",
      "CC": "",
      "REGION": "",
      "CLEAN_TIME": "9/20/23 7:44",
      "CLEAN_CAMPAIGN_TITLE": "Maven Inc. | September 2023 Newsletter",
      "CLEAN_CAMPAIGN_ID": "72214a4319",
      "LEID": "477863013",
      "EUID": "58fdb2d709",
      "NOTES": ""
    },
    {
      "Email_Address": "cathy@itconnectusa.com",
      "First_Name": "",
      "Last_Name": "",
      "Company": "",
      "Title": "",
      "Business Address": "",
      "Business Number": "",
      "Mobile Number": "",
      "Other Phone Number": "",
      "Home Address": "",
      "MEMBER_RATING": "1",
      "OPTIN_TIME": "3/28/22 14:39",
      "OPTIN_IP": "",
      "CONFIRM_TIME": "3/28/22 14:39",
      "CONFIRM_IP": "",
      "LATITUDE": "",
      "LONGITUDE": "",
      "GMTOFF": "",
      "DSTOFF": "",
      "TIMEZONE": "",
      "CC": "",
      "REGION": "",
      "CLEAN_TIME": "4/6/22 7:44",
      "CLEAN_CAMPAIGN_TITLE": "Maven Inc. | April 2022 Newsletter",
      "CLEAN_CAMPAIGN_ID": "d5892eb4b5",
      "LEID": "441682229",
      "EUID": "d7799c689c",
      "NOTES": ""
    },
    {
      "Email_Address": "SupremeJa@comcast.net",
      "First_Name": "Sidney",
      "Last_Name": "Johnson",
      "Company": "",
      "Title": "",
      "Business Address": "",
      "Business Number": "",
      "Mobile Number": "",
      "Other Phone Number": "",
      "Home Address": "",
      "MEMBER_RATING": "1",
      "OPTIN_TIME": "3/28/22 14:40",
      "OPTIN_IP": "",
      "CONFIRM_TIME": "3/28/22 14:40",
      "CONFIRM_IP": "",
      "LATITUDE": "",
      "LONGITUDE": "",
      "GMTOFF": "",
      "DSTOFF": "",
      "TIMEZONE": "",
      "CC": "",
      "REGION": "",
      "CLEAN_TIME": "7/6/22 7:44",
      "CLEAN_CAMPAIGN_TITLE": "Maven Inc. | July 2022 Newsletter",
      "CLEAN_CAMPAIGN_ID": "76b78fdaa7",
      "LEID": "441687745",
      "EUID": "7bbdf3ff7c",
      "NOTES": "Clients"
    },
    {
      "Email_Address": "llee@sugarhousecasino.com",
      "First_Name": "Lynette",
      "Last_Name": "Lee",
      "Company": "",
      "Title": "",
      "Business Address": "",
      "Business Number": "",
      "Mobile Number": "",
      "Other Phone Number": "",
      "Home Address": "",
      "MEMBER_RATING": "1",
      "OPTIN_TIME": "3/28/22 14:40",
      "OPTIN_IP": "",
      "CONFIRM_TIME": "3/28/22 14:40",
      "CONFIRM_IP": "",
      "LATITUDE": "",
      "LONGITUDE": "",
      "GMTOFF": "",
      "DSTOFF": "",
      "TIMEZONE": "",
      "CC": "",
      "REGION": "",
      "CLEAN_TIME": "4/6/22 7:44",
      "CLEAN_CAMPAIGN_TITLE": "Maven Inc. | April 2022 Newsletter",
      "CLEAN_CAMPAIGN_ID": "d5892eb4b5",
      "LEID": "441687641",
      "EUID": "05fa344db4",
      "NOTES": "Clients"
    },
    {
      "Email_Address": "aturner@dcgmd.biz",
      "First_Name": "",
      "Last_Name": "",
      "Company": "",
      "Title": "",
      "Business Address": "",
      "Business Number": "",
      "Mobile Number": "",
      "Other Phone Number": "",
      "Home Address": "",
      "MEMBER_RATING": "1",
      "OPTIN_TIME": "3/28/22 14:39",
      "OPTIN_IP": "",
      "CONFIRM_TIME": "3/28/22 14:39",
      "CONFIRM_IP": "",
      "LATITUDE": "",
      "LONGITUDE": "",
      "GMTOFF": "",
      "DSTOFF": "",
      "TIMEZONE": "",
      "CC": "",
      "REGION": "",
      "CLEAN_TIME": "7/6/22 7:44",
      "CLEAN_CAMPAIGN_TITLE": "Maven Inc. | July 2022 Newsletter",
      "CLEAN_CAMPAIGN_ID": "76b78fdaa7",
      "LEID": "441680097",
      "EUID": "a6c4be23ef",
      "NOTES": ""
    },
    {
      "Email_Address": "edmin@crlpa.com",
      "First_Name": "",
      "Last_Name": "",
      "Company": "Culbertson Restoration",
      "Title": "",
      "Business Address": "600 A Snyder Avenue, West Chester, PA 19382-0662 US",
      "Business Number": "",
      "Mobile Number": "",
      "Other Phone Number": "",
      "Home Address": "",
      "MEMBER_RATING": "1",
      "OPTIN_TIME": "4/3/23 15:07",
      "OPTIN_IP": "",
      "CONFIRM_TIME": "4/3/23 15:07",
      "CONFIRM_IP": "",
      "LATITUDE": "",
      "LONGITUDE": "",
      "GMTOFF": "",
      "DSTOFF": "",
      "TIMEZONE": "",
      "CC": "",
      "REGION": "",
      "CLEAN_TIME": "4/19/23 7:45",
      "CLEAN_CAMPAIGN_TITLE": "Maven Inc. | April 2023 Newsletter",
      "CLEAN_CAMPAIGN_ID": "221dc3df9c",
      "LEID": "453645065",
      "EUID": "c0d5ae70d7",
      "NOTES": ""
    },
    {
      "Email_Address": "swright@kierantimberlake.com",
      "First_Name": "Sarah",
      "Last_Name": "Wright",
      "Company": "KieranTimberlake",
      "Title": "",
      "Business Address": "",
      "Business Number": "",
      "Mobile Number": "",
      "Other Phone Number": "",
      "Home Address": "",
      "MEMBER_RATING": "1",
      "OPTIN_TIME": "4/3/23 15:07",
      "OPTIN_IP": "",
      "CONFIRM_TIME": "4/3/23 15:07",
      "CONFIRM_IP": "",
      "LATITUDE": "",
      "LONGITUDE": "",
      "GMTOFF": "",
      "DSTOFF": "",
      "TIMEZONE": "",
      "CC": "",
      "REGION": "",
      "CLEAN_TIME": "8/16/23 7:44",
      "CLEAN_CAMPAIGN_TITLE": "Maven Inc. | August 2023 Newsletter",
      "CLEAN_CAMPAIGN_ID": "974e68c528",
      "LEID": "477861513",
      "EUID": "12065a1723",
      "NOTES": ""
    },
    {
      "Email_Address": "carl@sillscom.com",
      "First_Name": "",
      "Last_Name": "",
      "Company": "",
      "Title": "",
      "Business Address": "",
      "Business Number": "",
      "Mobile Number": "",
      "Other Phone Number": "",
      "Home Address": "",
      "MEMBER_RATING": "1",
      "OPTIN_TIME": "3/28/22 14:39",
      "OPTIN_IP": "",
      "CONFIRM_TIME": "3/28/22 14:39",
      "CONFIRM_IP": "",
      "LATITUDE": "",
      "LONGITUDE": "",
      "GMTOFF": "",
      "DSTOFF": "",
      "TIMEZONE": "",
      "CC": "",
      "REGION": "",
      "CLEAN_TIME": "10/12/22 7:44",
      "CLEAN_CAMPAIGN_TITLE": "Maven Inc. | October 2022 Newsletter",
      "CLEAN_CAMPAIGN_ID": "b3220bfe07",
      "LEID": "441681941",
      "EUID": "45d304e9d9",
      "NOTES": ""
    },
    {
      "Email_Address": "ajm@themendezcorp.com",
      "First_Name": "",
      "Last_Name": "",
      "Company": "",
      "Title": "",
      "Business Address": "",
      "Business Number": "",
      "Mobile Number": "",
      "Other Phone Number": "",
      "Home Address": "",
      "MEMBER_RATING": "1",
      "OPTIN_TIME": "3/28/22 14:39",
      "OPTIN_IP": "",
      "CONFIRM_TIME": "3/28/22 14:39",
      "CONFIRM_IP": "",
      "LATITUDE": "",
      "LONGITUDE": "",
      "GMTOFF": "",
      "DSTOFF": "",
      "TIMEZONE": "",
      "CC": "",
      "REGION": "",
      "CLEAN_TIME": "10/12/22 7:44",
      "CLEAN_CAMPAIGN_TITLE": "Maven Inc. | October 2022 Newsletter",
      "CLEAN_CAMPAIGN_ID": "b3220bfe07",
      "LEID": "441678381",
      "EUID": "3283205fe8",
      "NOTES": ""
    },
    {
      "Email_Address": "matt.shinton@kimley-horn.com",
      "First_Name": "Matt",
      "Last_Name": "Shinton",
      "Company": "Kimley-Horn",
      "Title": "",
      "Business Address": "",
      "Business Number": "",
      "Mobile Number": "(484) 275-5926",
      "Other Phone Number": "",
      "Home Address": "",
      "MEMBER_RATING": "1",
      "OPTIN_TIME": "4/3/23 15:07",
      "OPTIN_IP": "",
      "CONFIRM_TIME": "4/3/23 15:07",
      "CONFIRM_IP": "",
      "LATITUDE": "",
      "LONGITUDE": "",
      "GMTOFF": "",
      "DSTOFF": "",
      "TIMEZONE": "",
      "CC": "",
      "REGION": "",
      "CLEAN_TIME": "4/19/23 7:45",
      "CLEAN_CAMPAIGN_TITLE": "Maven Inc. | April 2023 Newsletter",
      "CLEAN_CAMPAIGN_ID": "221dc3df9c",
      "LEID": "477862593",
      "EUID": "386003fa27",
      "NOTES": ""
    }
  ]
  ;


  constructor(public databaseService: DatabaseService) { }

  ngOnInit(): void {
    // this._dataSubscription = this.databaseService.items?.pipe(
    //   map((data: any) => data.filter((data : any) => (data != null)))
    //   ).subscribe((data) => {
    //   // this.countData(data);
    // })

  }

  public onView(value: any): void {
    this.id.emit(value);
  }


}
